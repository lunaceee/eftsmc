var amdShim={};
(function(undef){var require,define,g=this;
var Promise=(function(){var PROTOTYPE="prototype",FUNCTION="function",RESOLVED="resolved",REJECTED="rejected";
function Promise(){this._s=[];
this._f=[]
}Promise[PROTOTYPE].then=function(onSuccess,onFailure){var p=new Promise();
var me=this;
if(typeof onSuccess==FUNCTION){var handleSuccess=function(){var res=onSuccess.apply(me,arguments);
if(res&&typeof res.then===FUNCTION){res.then(function(){p.resolve.apply(p,arguments)
})
}else{p.resolve.apply(p,(res==null?[]:[res]))
}};
if(me[RESOLVED]){handleSuccess.call(null,me.result)
}else{me._s.push(handleSuccess)
}}if(typeof onFailure==FUNCTION){var handleFail=function(){var res=onFailure.apply(me,arguments);
if(res&&typeof res.then===FUNCTION){res.then(function(){p.resolve.apply(p,arguments)
})
}else{p.resolve.apply(p,(res==null?[]:[res]))
}};
if(me[REJECTED]){handleFail.call(null,me.error)
}else{me._f.push(handleFail)
}}return p
};
Promise[PROTOTYPE].resolve=function(){var me=this;
me.result=arguments[0];
if(me[REJECTED]){return
}me[RESOLVED]=true;
for(var i=0;
i<me._s.length;
i++){me._s[i].call(null,me.result)
}me._s=[]
};
Promise[PROTOTYPE].reject=function(){var me=this;
me.error=arguments[0];
if(me[RESOLVED]){return
}me[REJECTED]=true;
for(var i=0;
i<me._f.length;
i++){me._f[i].call(null,me.error)
}me._f=[]
};
return Promise
})();
var GET_ELEMENTS_BY_TAG="getElementsByTagName",CREATE_ELEMENT="createElement",FUNCTION="function",DOC="document",mod={},NE="_NE_",defers={},aCount=0,NA="_anonymous_",config={},head=g[DOC][GET_ELEMENTS_BY_TAG]("head")[0]||g[DOC][GET_ELEMENTS_BY_TAG]("html")[0];
initConfig();
function emptyModule(ret){return function(){return ret
}
}function getCurrentScript(){if(g[DOC].currentScript){return g[DOC].currentScript.src
}var stack=null;
try{stack()
}catch(e){stack=e.stack;
if(!stack&&window.opera){stack=(String(e).match(/of linked script \S+/g)||[]).join(" ")
}if(stack){stack=stack.split(/[@ ]/g).pop();
stack=stack[0]=="("?stack.slice(1,-1):stack;
return stack.replace(/(:\d+)?:\d+$/i,"")
}}var nodes=g[DOC][GET_ELEMENTS_BY_TAG]("SCRIPT");
for(var i=0,node;
node=nodes[i++];
){if(node.readyState==="interactive"){return node.src
}}return nodes[nodes.length-1].src
}function initConfig(){var anchor,id;
config.paths=config.paths||{};
anchor=g[DOC][CREATE_ELEMENT]("a");
anchor.href=config.baseUrl||".";
config.baseUrl=anchor.href;
config.proactive=typeof config.proactive==="object"?config.proactive:(config.proactive===true?{}:null);
config.shim=config.shim||{};
if(config.proactive){config.proactive.exclude=config.proactive.exclude||{};
for(id in defers){getModule(id)
}}}function getModule(id){var path,s,exclude,i,loaded=false,shim;
if(defers[id].getting===true){return
}for(i=config.proactive.exclude.length;
i--;
){exclude=config.proactive.exclude[i];
if((new RegExp(exclude)).test(id)){return
}}defers[id].getting=true;
path=config.baseUrl;
if(path.charAt(path.length-1)!=="/"){path+="/"
}path+=(config.paths[id]?config.paths[id]:id)+".js";
s=g[DOC][CREATE_ELEMENT]("script");
s.type="text/javascript";
s.src=path;
s.setAttribute("amdshim-id",id);
if(id in config.shim){shim=config.shim[id];
s.onload=s.onreadystatechange=function(){if(!loaded&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){loaded=true;
define(id,shim.deps||[],function(){var output;
if(typeof shim.init===FUNCTION){try{output=shim.init.apply(g,arguments)
}catch(e){}}if(output===undef&&shim.exports){output=(window.eval||window.execScript)("("+shim.exports+")")
}return output
})
}};
s.onerror=function(){if(g.console&&typeof g.console.log===FUNCTION){g.console.log("Fail to load module: "+id)
}}
}head.insertBefore(s,head.children[0])
}function extractCurrentID(){var id;
if(config.proactive){id=getCurrentScript();
id=id.replace(config.baseUrl,"");
id=resolvePath(".",id);
if(id.substr(id.length-3,id.length)===".js"){id=id.substr(0,id.length-3)
}for(var key in config.paths){if(config.paths[key]===id){id=key;
break
}}}else{id=NA+"/"+aCount++
}return id
}function resolvePath(base,relative){var ret,upCount=0,l;
base=base.split("/");
relative=relative.split("/");
if(relative[0]===""){relative.shift()
}if(relative[0]=="."||relative[0]==".."){base.pop();
ret=base.concat(relative)
}else{ret=relative
}for(l=ret.length;
l--;
){if(ret[l]=="."){ret.splice(l,1)
}else{if(ret[l]==".."){upCount++
}else{if(upCount>0){ret.splice(l,2);
upCount--
}}}}return ret.join("/")
}define=function(){var dfds,i,arg,id,deps,factory;
id=arguments[0];
deps=arguments[1];
factory=arguments[2];
if(!factory){id=null;
deps=[];
for(i=0;
i<arguments.length;
i++){arg=arguments[i];
if(typeof arg=="object"&&"length" in arg){deps=arg
}else{if(typeof arg=="object"){factory=emptyModule(arg)
}else{if(typeof arg==FUNCTION){factory=arg
}else{if(typeof arg=="string"){id=arg
}}}}}if(id==null){id=extractCurrentID()
}return define.call(g,id,deps,factory)
}if(id in mod){return
}mod[id]={p:id,d:deps,f:factory};
if(defers[id]){dfds=defers[id];
for(i=0;
i<dfds.length;
i++){dfds[i].resolve(mod[id])
}delete defers[id]
}};
define.amdShim=define.amd={};
require=function(deps,factory){var module=this;
var resolved=[],cur,relative,absolute,dfdFinal=new Promise(),ret;
if(module==null||module===g||module.document==g[DOC]||module===amdShim){module={p:NE}
}if(deps==null){deps=[]
}else{if(typeof deps=="string"&&factory==null){deps=[deps]
}}if(deps.length>0){(function step(i){relative=deps[i];
absolute=resolvePath(module.p,relative);
var dfd=new Promise();
if(absolute==="require"){cur={p:NE,d:[],f:function(){return require
}}
}else{cur=mod[absolute]
}if(!cur){if(!factory){throw"module not found"
}if(!defers[absolute]){defers[absolute]=[]
}defers[absolute].push(dfd);
if(config.proactive){getModule(absolute)
}}else{dfd.resolve(cur)
}dfd.then(function(cur){if(cur.o){return cur.o
}else{cur.o=new Promise();
return require.call(cur,cur.d,cur.f).then(function(result){if(cur.o){cur.o.resolve(result)
}return result
})
}}).then(function(result){resolved[i]=result;
i++;
if(i<deps.length){step(i)
}else{dfdFinal.resolve()
}})
})(0)
}else{dfdFinal.resolve()
}ret=dfdFinal.then(function(){resolved.push(require,{});
var type=typeof factory;
if(type==FUNCTION){return factory.apply(g,resolved)
}else{if(type=="object"&&module.p!=NE){return factory
}}});
if(factory){return ret
}else{return resolved[0]
}};
amdShim.require=require;
amdShim.define=define;
function backup(){if(g.require!==require){backup.require=g.require
}if(g.define!==define){backup.define=g.define
}}function Modules(){this.rename=function(name,newName){if(!(name in mod)){return
}define(newName,mod[name].d,mod[name].f);
delete mod[name]
};
this.noNames=function(){var ret=[],cur,i;
for(i=aCount;
i--;
){cur=mod[NA+"/"+i];
if(cur){ret.unshift(cur)
}}return ret
}
}Modules.prototype=mod;
amdShim.remove=function(){if(g.require===require){g.require=backup.require
}if(g.define===define){g.define=backup.define
}};
amdShim.insert=function(){backup();
g.require=require;
g.define=define
};
amdShim.config=function(cfg){config=cfg;
initConfig()
};
amdShim.modules=new Modules();
amdShim.waiting=defers;
amdShim.insert()
}());
define("kernel/amdshim",function(){});
define("kernel/Defer",[],function(){var a="prototype",g="function",h="resolved",c="rejected";
function f(){var k=this;
k.promise.result=arguments[0];
if(k.promise[c]){return
}k.promise[h]=true;
for(var j=0;
j<k.promise._s.length;
j++){k.promise._s[j].call(null,k.promise.result)
}k.promise._s=[]
}function e(){var k=this;
k.promise.error=arguments[0];
if(k.promise[h]){return
}k.promise[c]=true;
for(var j=0;
j<k.promise._f.length;
j++){k.promise._f[j].call(null,k.promise.error)
}k.promise._f=[]
}function b(j){if(!(this instanceof b)){return new b(j)
}var i=this;
i.promise=(j&&"then" in j)?j:new d(i);
i.resolve=function(){return f.apply(i,arguments)
};
i.reject=function(){return e.apply(i,arguments)
}
}function d(i){this._s=[];
this._f=[];
this._defer=(i&&i instanceof b)?i:new b(this);
this.result=null;
this.error=null;
if(typeof i===g){try{i.call(this,this._defer.resolve,this._defer.reject)
}catch(j){this._defer.reject(j)
}}}d[a].then=function(n,j){var m=new b();
var k=this;
if(typeof n==g){var i=function(){var o=n.apply(k,arguments);
if(o&&typeof o.then===g){o.then(function(){m.resolve.apply(m,arguments)
})
}else{m.resolve.apply(m,(o==null?[]:[o]))
}};
if(k[h]){i.call(null,k.result)
}else{k._s.push(i)
}}if(typeof j==g){var l=function(){var o=j.apply(k,arguments);
if(o&&typeof o.then===g){o.then(function(){m.resolve.apply(m,arguments)
})
}else{m.resolve.apply(m,(o==null?[]:[o]))
}};
if(k[c]){l.call(null,k.error)
}else{k._f.push(l)
}}return m.promise
};
b.Promise=d;
b.all=function(i){return new d(function(n,j){var p=i.length;
var o=0;
function m(){o++;
if(p===o){n()
}}for(var k=i.length;
k--;
){if(!("then" in i[k])){p--
}else{i[k].then(m,j)
}}if(p<=0){n();
return
}})
};
return b
});
define("kernel/StateMachine",["./Defer"],function(e){var d=0;
var c=1;
var a=2;
function g(i){return i.replace(/e$/,"")+"ing"
}function f(i){return i.replace(/e$/,"")+"ed"
}function h(){var m=this;
var j=m.states;
var k;
m.status=0;
m.steps=[];
for(var i=j.length;
i--;
){k="on"+g(j[i]);
if(m[k]===undefined){m[k]=null
}m.steps[i]={status:d,promise:null}
}}function b(i){var j=this;
j.name="Some state machine:";
j.states=i;
h.call(j)
}b.STEP_STATUS_NOT_START=d;
b.STEP_STATUS_DOING=c;
b.STEP_STATUS_DONE=a;
b.prototype["do"]=function(){var m=this;
var k=m.states;
var j=g(k[m.status]);
var n=f(k[m.status]);
var o=m["on"+j];
var l=m.steps[m.status];
var i=new e();
i.resolve();
if(l.status===c||l.status===a){return l.promise
}l.status=c;
if(window.console){window.console.log(m.name+" is "+j)
}l.promise=i.promise.then(function(){if(typeof o==="function"){return o.call(m)
}}).then(function(){l.status=a;
m.status++;
if(window.console){window.console.log(m.name+" is "+n)
}});
return l.promise
};
b.prototype["goto"]=function(n){var m=this;
var j=new e();
var o;
j.resolve();
if(m.status>n){return m.steps[n].promise
}function l(){return m["do"]()
}o=m.status>0?m.steps[m.status-1].promise:j.promise;
for(var k=m.status;
k<m.states.length&&k<=n;
k++){o=o.then(l)
}return o
};
b.prototype.reset=function(){h.call(this)
};
return b
});
window._q=[];
define("kernel/_q",function(){});
/*!
  * domready (c) Dustin Diaz 2012 - License MIT
  */
!function(a,b){if(typeof module!="undefined"){module.exports=b()
}else{if(typeof define=="function"&&typeof define.amd=="object"){define("kernel/domReady",b)
}else{this[a]=b()
}}}("domready",function(j){var o=[],i,h=false,k=document,b=k.documentElement,n=b.doScroll,a="DOMContentLoaded",d="addEventListener",m="onreadystatechange",g="readyState",p=n?/^loaded|^c/:/^loaded|c/,e=p.test(k[g]);
function l(q){if(e){return
}e=1;
while(q=o.shift()){q()
}}if(!e){k[d]&&k[d](a,i=function(){k.removeEventListener(a,i,h);
l()
},h);
n&&k.attachEvent(m,i=function(){if(/^c/.test(k[g])){k.detachEvent(m,i);
l()
}});
n&&window.attachEvent("onload",function c(){window.detachEvent("onload",c);
l()
})
}return(j=n?function(f){self!=top?e?f():o.push(f):function(){try{b.doScroll("left")
}catch(q){return setTimeout(function(){j(f)
},50)
}f()
}()
}:function(f){e?f():o.push(f)
})
});
define("kernel/blocker/resourceTypeResolver",[],function(){function a(c){var b="state";
if(c.indexOf("/")>=0){b="hub"
}return b
}return{resolve:a}
});
define("kernel/blocker/Base",["../Defer","../domReady","../StateMachine","./resourceTypeResolver"],function(j,f,l,c){var h=0;
var a=1;
var e=2;
var i=false;
var m="goto";
function g(){}g.prototype=l.prototype;
function d(n){var o=this;
var p=new j();
require(["shared/util/state"],function(q){if(window.console){window.console.log(o.name+" waiting for state object "+n)
}q.retrieve(n).then(function(){if(window.console){window.console.log(o.name+" state object "+n+" is done")
}}).then(p.resolve,p.reject)
});
return p.promise
}function k(o){var n=this;
var p=new j();
require(["shared/util/hub"],function(q){if(window.console){window.console.log(n.name+" waiting for hub channel "+o)
}q.get(o).then(function(){if(window.console){window.console.log(n.name+" hub channel "+o+" is done")
}}).then(p.resolve,p.reject)
});
return p.promise
}f(function(){i=true
});
function b(n){var p=this;
l.call(p,["idle","block","resume"]);
p.name=n&&n.name||"";
p.queue=[];
p.queue.push=function o(){if(i||p.status>e||(p.status===e&&p.steps[e].status!==l.STEP_STATUS_NOT_START)){if(window.console){window.console.warn(arguments[0]+" is pushed to blocking queue but it is too late",i,p.status>e,p.steps[e].status)
}}var q=Array.prototype.push.apply(p.queue,arguments);
p[m](a);
return q
};
f(function(){if(p.queue.length<=0&&p.status<a){return
}p[m](a).then(function(){var t,s;
var r=[];
for(var q=p.queue.length;
q--;
){t=p.queue[q];
s=c.resolve(t);
if(s==="state"){r.push(d.call(p,t))
}else{if(s==="hub"){r.push(k.call(p,t))
}}}j.all(r).then(function(){p[m](e)
})
})
})
}b.prototype=new g();
b.prototype.block=function(){return this[m](a)
};
b.prototype.resume=function(){if(this.status===h){throw new Error("You need to block it before resume it")
}return this[m](e)
};
b.IDLE=h;
b.BLOCK=a;
b.RESUME=e;
return b
});
(function(a,b){if(typeof exports=="object"){module.exports=b()
}else{if(typeof define=="function"&&define.amd){define("kernel/ui/Spin",b)
}else{a.Spinner=b()
}}}(this,function(){var e=["webkit","Moz","ms","O"],o={},n,i;
function g(p,s){var q=document.createElement(p||"div"),r;
for(r in s){q[r]=s[r]
}return q
}function h(q){for(var p=1,r=arguments.length;
p<r;
p++){q.appendChild(arguments[p])
}return q
}function c(t,p,u,x){var q=["opacity",p,~~(t*100),u,x].join("-"),r=0.01+u/x*100,w=Math.max(1-(1-t)/p*(100-r),t),v=n.substring(0,n.indexOf("Animation")).toLowerCase(),s=v&&"-"+v+"-"||"";
if(!o[q]){i.insertRule("@"+s+"keyframes "+q+"{0%{opacity:"+w+"}"+r+"%{opacity:"+t+"}"+(r+0.01)+"%{opacity:1}"+(r+p)%100+"%{opacity:"+t+"}100%{opacity:"+w+"}}",i.cssRules.length);
o[q]=1
}return q
}function l(t,u){var r=t.style,p,q;
u=u.charAt(0).toUpperCase()+u.slice(1);
for(q=0;
q<e.length;
q++){p=e[q]+u;
if(r[p]!==undefined){return p
}}if(r[u]!==undefined){return u
}}function f(p,r){for(var q in r){p.style[l(p,q)||q]=r[q]
}return p
}function j(r){for(var p=1;
p<arguments.length;
p++){var q=arguments[p];
for(var s in q){if(r[s]===undefined){r[s]=q[s]
}}}return r
}function m(q,p){return typeof q=="string"?q:q[p%q.length]
}var d={lines:12,length:7,width:5,radius:10,scale:1,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",position:"absolute"};
function b(p){this.opts=j(p||{},b.defaults,d)
}b.defaults={};
j(b.prototype,{spin:function(y){this.stop();
var A=this,q=A.opts,r=A.el=f(g(0,{className:q.className}),{position:q.position,width:0,zIndex:q.zIndex});
f(r,{left:q.left,top:q.top});
if(y){y.insertBefore(r,y.firstChild||null)
}r.setAttribute("role","progressbar");
A.lines(r,A.opts);
if(!n){var v=0,p=(q.lines-1)*(1-q.direction)/2,u,s=q.fps,x=s/q.speed,w=(1-q.opacity)/(x*q.trail/100),z=x/q.lines;
(function t(){v++;
for(var B=0;
B<q.lines;
B++){u=Math.max(1-(v+(q.lines-B)*z)%x*w,q.opacity);
A.opacity(r,B*q.direction+p,u,q)
}A.timeout=A.el&&setTimeout(t,~~(1000/s))
})()
}return A
},stop:function(){var p=this.el;
if(p){clearTimeout(this.timeout);
if(p.parentNode){p.parentNode.removeChild(p)
}this.el=undefined
}return this
},lines:function(r,t){var q=0,u=(t.lines-1)*(1-t.direction)/2,p;
function s(v,w){return f(g(),{position:"absolute",width:t.scale*(t.length+t.width)+"px",height:t.scale*t.width+"px",background:v,boxShadow:w,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*q+t.rotate)+"deg) translate("+t.scale*t.radius+"px,0)",borderRadius:(t.corners*t.scale*t.width>>1)+"px"})
}for(;
q<t.lines;
q++){p=f(g(),{position:"absolute",top:1+~(t.scale*t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:n&&c(t.opacity,t.trail,u+q*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"});
if(t.shadow){h(p,f(s("#000","0 0 4px #000"),{top:2+"px"}))
}h(r,h(p,s(m(t.color,q),"0 0 1px rgba(0,0,0,.1)")))
}return r
},opacity:function(q,p,r){if(p<q.childNodes.length){q.childNodes[p].style.opacity=r
}}});
function k(){function p(r,q){return g("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',q)
}i.addRule(".spin-vml","behavior:url(#default#VML)");
b.prototype.lines=function(u,t){var q=t.scale*(t.length+t.width),A=t.scale*2*q;
function z(){return f(p("group",{coordsize:A+" "+A,coordorigin:-q+" "+-q}),{width:A,height:A})
}var v=-(t.width+t.length)*t.scale*2+"px",y=f(z(),{position:"absolute",top:v,left:v}),x;
function w(s,r,B){h(y,h(f(z(),{rotation:360/t.lines*s+"deg",left:~~r}),h(f(p("roundrect",{arcsize:t.corners}),{width:q,height:t.scale*t.width,left:t.scale*t.radius,top:-t.scale*t.width>>1,filter:B}),p("fill",{color:m(t.color,s),opacity:t.opacity}),p("stroke",{opacity:0}))))
}if(t.shadow){for(x=1;
x<=t.lines;
x++){w(x,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")
}}for(x=1;
x<=t.lines;
x++){w(x)
}return h(u,y)
};
b.prototype.opacity=function(r,q,t,s){var u=r.firstChild;
s=s.shadow&&s.lines||0;
if(u&&q+s<u.childNodes.length){u=u.childNodes[q+s];
u=u&&u.firstChild;
u=u&&u.firstChild;
if(u){u.opacity=t
}}}
}if(typeof document!=="undefined"){i=(function(){var p=g("style",{type:"text/css"});
h(document.getElementsByTagName("head")[0],p);
return p.sheet||p.styleSheet
}());
var a=f(g("group"),{behavior:"url(#default#VML)"});
if(!l(a,"transform")&&a.adj){k()
}else{n=l(a,"animation")
}}return b
}));
define("kernel/ui/Blocker",["./Spin"],function(d){var i=10;
var f=600;
function c(){var j=document.createElement("div");
j.style.position="absolute";
j.style.left="0";
j.style.right="0";
j.style.bottom="0";
j.style.top="0";
j.style.zIndex=2000000000;
return j
}function h(){var j=new d({lines:7,length:4,width:7,radius:7,corners:1,rotate:0,direction:1,color:["#000000"],speed:1.7,trail:49,shadow:true,hwaccel:false,className:"spinner",zIndex:1,top:"50%",left:"50%"});
return j
}function a(){var j=this;
j.target.style.opacity="";
j.spinner.stop()
}function g(m){var l=this;
var k=i;
var n=Date.now();
function j(){k=(Date.now()-n)/m*(100-i)+i;
if(k>100){k=100
}l.target.style.opacity=k/100+"";
if(k===100){a.call(l)
}else{setTimeout(j,15)
}}j()
}function e(){var j=this;
j.target.style.opacity=i/100+"";
j.spinner.spin();
j.overlay.appendChild(j.spinner.el)
}function b(k){var j=this;
j.blocked=false;
j.target=k;
j.overlay=c();
j.spinner=h()
}b.prototype.block=function(){var j=this;
j.blocked=true;
e.call(j);
j.target.insertBefore(j.overlay,j.target.firstChild)
};
b.prototype.resume=function(k){var j=this;
k=k||f;
if(j.target.contains(j.overlay)){j.target.removeChild(j.overlay)
}g.call(j,k);
j.blocked=false
};
return b
});
define("kernel/blocker/document",["require","./Base","../domReady","../ui/Blocker","../Defer"],function(c,f,e,g,d){var a;
var b=new f({name:"kernel/blocker/document:"});
b.onblocking=function(){var h=new d();
if(a==null&&document.documentElement.className.indexOf(" publish ")>=0){a=new g(document.getElementsByTagName("body")[0])
}if(a){a.block()
}h.resolve();
return h.promise
};
b.onresuming=function(){var h=new d();
if(a){a.resume()
}h.resolve();
return h.promise
};
return b
});
define("kernel/blocker/targeting",["require","./Base","../domReady","../ui/Blocker","../Defer"],function(b,e,d,g,c){var f;
var a=new e({name:"kernel/blocker/targeting:"});
a.onblocking=function(){var h=new c();
b(["shared/util/cq/siteCatalyst/eventHijacker/StoresInitialize"],function(i){f=new i();
f.hold().then(h.resolve)
});
return h.promise
};
a.onresuming=function(){var h=[];
if(f){h.push(f.release())
}return c.all(h)
};
return a
});
define("kernel/blocker/tracking",["require","./Base","../domReady","../ui/Blocker","../Defer"],function(b,e,d,g,c){var f;
var a=new e({name:"kernel/blocker/tracking:"});
a.onblocking=function(){var h=this;
var i=new c();
h.deferTracking=new c();
b(["shared/util/hub"],function(j){j.set("kernel/blocker/tracking/blocking/promise",h.deferTracking.promise).then(i.resolve)
});
return i.promise
};
a.onresuming=function(){var h=this;
var i=new c();
h.deferTracking.resolve();
i.resolve();
return i.promise
};
return a
});